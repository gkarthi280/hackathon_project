const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/sign-CV-9Emb9.js","assets/index-CYUBhEOJ.js","assets/index-JxnpcKbl.css","assets/sign-typed-data-CKuuuKMf.js","assets/sign-transaction-BTnvghhD.js","assets/send-transaction-DPYQVWB2.js","assets/switch-chain-CtMs5bmQ.js"])))=>i.map(i=>d[i]);
import{cw as m,_ as o}from"./index-CYUBhEOJ.js";function E(c,r){if(m(c.address)!==m(r))throw new Error(`Failed to validate account address (${c.address}), differs from ${r}`)}function w(c){const r=c.split(":"),p=Number.parseInt(r[1]??"0");if(r.length!==2||r[0]!=="eip155"||p===0||!p)throw new Error(`Invalid chainId ${c}, should have the format 'eip155:1'`);return p}async function T(c){const{wallet:r,walletConnectClient:p,thirdwebClient:u,event:{topic:h,id:l,params:{chainId:_,request:t}},handlers:a}=c,n=r.getAccount();if(!n)throw new Error("No account connected to provided wallet");let s;try{switch(t.method){case"personal_sign":{if(a!=null&&a.personal_sign)s=await a.personal_sign({account:n,params:t.params});else{const{handleSignRequest:e}=await o(async()=>{const{handleSignRequest:i}=await import("./sign-CV-9Emb9.js");return{handleSignRequest:i}},__vite__mapDeps([0,1,2]));s=await e({account:n,params:t.params})}break}case"eth_sign":{if(a!=null&&a.eth_sign)s=await a.eth_sign({account:n,params:t.params});else{const{handleSignRequest:e}=await o(async()=>{const{handleSignRequest:i}=await import("./sign-CV-9Emb9.js");return{handleSignRequest:i}},__vite__mapDeps([0,1,2]));s=await e({account:n,params:t.params})}break}case"eth_signTypedData":{if(a!=null&&a.eth_signTypedData)s=await a.eth_signTypedData({account:n,params:t.params});else{const{handleSignTypedDataRequest:e}=await o(async()=>{const{handleSignTypedDataRequest:i}=await import("./sign-typed-data-CKuuuKMf.js");return{handleSignTypedDataRequest:i}},__vite__mapDeps([3,1,2]));s=await e({account:n,params:t.params})}break}case"eth_signTypedData_v4":{if(a!=null&&a.eth_signTypedData_v4)s=await a.eth_signTypedData_v4({account:n,params:t.params});else{const{handleSignTypedDataRequest:e}=await o(async()=>{const{handleSignTypedDataRequest:i}=await import("./sign-typed-data-CKuuuKMf.js");return{handleSignTypedDataRequest:i}},__vite__mapDeps([3,1,2]));s=await e({account:n,params:t.params})}break}case"eth_signTransaction":{if(a!=null&&a.eth_signTransaction)s=await a.eth_signTransaction({account:n,params:t.params});else{const{handleSignTransactionRequest:e}=await o(async()=>{const{handleSignTransactionRequest:i}=await import("./sign-transaction-BTnvghhD.js");return{handleSignTransactionRequest:i}},__vite__mapDeps([4,1,2]));s=await e({account:n,params:t.params})}break}case"eth_sendTransaction":{const e=w(_);if(a!=null&&a.eth_sendTransaction)s=await a.eth_sendTransaction({account:n,chainId:e,params:t.params});else{const{handleSendTransactionRequest:i}=await o(async()=>{const{handleSendTransactionRequest:d}=await import("./send-transaction-DPYQVWB2.js");return{handleSendTransactionRequest:d}},__vite__mapDeps([5,1,2]));s=await i({account:n,chainId:e,thirdwebClient:u,params:t.params})}break}case"eth_sendRawTransaction":{const e=w(_);if(a!=null&&a.eth_sendRawTransaction)s=await a.eth_sendRawTransaction({account:n,chainId:e,params:t.params});else{const{handleSendRawTransactionRequest:i}=await o(async()=>{const{handleSendRawTransactionRequest:d}=await import("./send-raw-transaction-CcFfZG5y.js");return{handleSendRawTransactionRequest:d}},[]);s=await i({account:n,chainId:e,params:t.params})}break}case"wallet_addEthereumChain":{if(a!=null&&a.wallet_addEthereumChain)s=await a.wallet_addEthereumChain({wallet:r,params:t.params});else throw new Error("Unsupported request method: wallet_addEthereumChain");break}case"wallet_switchEthereumChain":{if(a!=null&&a.wallet_switchEthereumChain)s=await a.wallet_switchEthereumChain({wallet:r,params:t.params});else{const{handleSwitchChain:e}=await o(async()=>{const{handleSwitchChain:i}=await import("./switch-chain-CtMs5bmQ.js");return{handleSwitchChain:i}},__vite__mapDeps([6,1,2]));s=await e({wallet:r,params:t.params})}break}default:{const e=a==null?void 0:a[t.method];if(e)s=await e({account:n,chainId:w(_),params:t.params});else throw new Error(`Unsupported request method: ${t.method}`)}}}catch(e){s={code:typeof e=="object"&&e!==null&&"code"in e?e.code:500,message:typeof e=="object"&&e!==null&&"message"in e?e.message:"Unknown error"}}p.respond({topic:h,response:{id:l,jsonrpc:"2.0",result:s}})}const R=Object.freeze(Object.defineProperty({__proto__:null,fulfillRequest:T},Symbol.toStringTag,{value:"Module"}));export{R as s,E as v};
